<%= nested_form_for(@module_template, :html => {:class => "form-horizontal"} ) do |f| %>
	<% if @module_template.errors.any? %>
	<div class="alert alert-block alert-error">
		<h2><%= pluralize(@module_template.errors.count, "error") %></h2>

		<ul>
			<% @module_template.errors.full_messages.each do |msg| %>
			<li><%= msg %></li>
			<% end %>
		</ul>
	</div>
	<% end %>

	<div class="control-group">
		<%= f.label :id, :class => "control-label" %>
		<div class="controls">
			<div>
				<%= (@module_template.new_record? ? '<span class="label label-info">new unique id</span>'.html_safe : @module_template.id) %>
			</div>
		</div>
	</div>
	
	<div class="control-group">
		<%= f.label :name, :class => "control-label" %>
		<div class="controls">
			<%= f.text_field :name %>
		</div>
	</div>
	
	<div class="control-group">
		<%= f.label :file, :class => "control-label" %>
		<div class="controls">
			<%= f.text_field :file %>
		</div>
	</div>
	
	<div class="control-group">
		<%= f.label :javascript_model, :class => "control-label" %>
		<div class="controls">
			<%= f.text_field :javascript_model %>
		</div>
	</div>
	
	<section id="parameters">
		<%= f.fields_for :module_parameters do |builder| %>
			<%= render "module_parameter_fields", :f => builder %>
		<% end %>
	</section>
	
	<div class="control-group">
		<div class="controls">
			<%= f.link_to_add '<i class="icon-plus"></i> Add Parameter'.html_safe, :module_parameters, :class => 'btn', :data => { :target => "#parameters" } %>
		</div>
	</div>
	
	<div class="form-actions">
		<%= f.submit :class => "btn btn-primary" %>
	</div>
<% end %>
