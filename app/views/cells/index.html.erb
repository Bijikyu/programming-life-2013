<header class="row">
	<h1 class="span12">Listing cells</h1>
	<section id="filters" class="span12">
	<% @filters.each { |filter, value| %>
		<div class="alert alert-info">
			<%= link_to_self raw('&times;'), { template: nil } , { class: 'close' } %>
			<i class="icon-filter"></i> <%= filter %>
		</div>
	<% } %>
	</section>
</header>

<table class="table table-hover">
	<thead>
		<tr>
			<th>Id</th>
			<th>Name</th>
			<th>Contains</th>
			<th></th>
			<th></th>
		</tr>
	</thead>

	<tbody>
		<% @cells.each do |cell| %>
		<tr>
			<td><%= cell.id %></td>
			<td><%= cell.name %></td>
			<td><%= link_to pluralize( ModuleInstance.where( :cell_id => cell.id ).count, 'module'), module_instances_path( :cell => cell.id ) %></td>
			<td class="span3">
				<%= link_to raw('<i class="icon-search"></i> Show'), cell, :class => 'btn btn-small' %> 
				<%= link_to raw('<i class="icon-pencil"></i> Edit'), edit_cell_path(cell), :class => 'btn btn-small' %> 
			</td>
			<td class="span2">
				<%= link_to raw('<i class="icon-trash"></i> Destroy'), cell, method: :delete, data: { confirm: 'Are you sure?' }, :class => 'btn btn-small btn-danger' %>
			</td>
		</tr>
		<% end %>
	</tbody>
</table>

<footer class="row">
	<div class="form-actions span12">
		<%= link_to raw('<i class="icon-plus-sign icon-white"></i> New Cell'), new_cell_path, :class => 'btn btn-small btn-primary' %>
	</div>
</footer>

